@model IngredientsViewModel

@{
    Layout = null;
}


<h3>List of ingredients</h3>

<div class="table-responsive">
    <table class="table table-dark table-striped" id="table-ingredients">
        <thead>
            <tr class="table-primary">
                <th>
                    @Html.DisplayNameFor(model => model.Ingredients.FirstOrDefault().Product)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Ingredients.FirstOrDefault().Quantity)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Ingredients.FirstOrDefault().UnityType)
                </th>
                <th>
                    <button type="submit" class="btn-invisible">
                        <i class="fas fa-plus-square btn btn-primary" id="icon-create" title="Add ingredient"></i>
                    </button>
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Ingredients)
            {
                <tr id="tr_ingredient_@(item.IngredientId)">
                    <td>
                        @Html.DisplayFor(modelItem => item.Product.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Quantity)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.UnityType)
                    </td>
                    <td>
                        <a class="btn-edit-row" id="btn_edit_@(item.IngredientId)" title="edit ingredient"><i class="btn fas fa-pen"></i></a>
                        <a class="btn-delete-row" id="btn_delete_@(item.IngredientId)" title="delete ingredient"><i class="btn fas fa-times"></i></a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

<div style="display:none">
    <table id="sample-table">
        <tr class="sample-row">
            <td>
                <product-name />
            </td>
            <td>
                <product-qty />
            </td>
            <td>
                <product-unityType />
            </td>
            <td>
                <edit-ingredient></edit-ingredient>
                <delete-ingredient></delete-ingredient>
            </td>
        </tr>
        <tr class="sample-edit-row">
            <td colspan="4">
                <form id="form-ingredient" class="form-ingredient" method="post">
                    <div class="form-group">
                        <input type="hidden" class="hidden-food" name="FoodId" value="@Model.FoodId" />
                        <input type="hidden" class="hidden-ingredient" name="IngredientId"/>
                    </div>
                    <div class="form-group">
                        <input type="hidden" class="hidden-product" name="ProductId" />
                        <div class="dropdown">
                            <input type="text" placeholder="Product" class="form-control select-like input-product" data-toggle="dropdown" />
                            <drop-down-list-product class="dropdown-menu product">
                            </drop-down-list-product>
                        </div>
                    </div>
                    <div class="form-group">
                        <input class="form-control input-qty" type="text" name="Quantity" placeholder="Quantity" />
                    </div>
                    <div class="form-group">
                        <select class="form-control select-unityType" asp-items="@Html.GetEnumSelectList<UnityType>()" name="UnityType"></select>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn-invisible" title="save ingredient">
                            <i class="btn fas fa-save icon-save"></i>
                        </button>
                        <a class="btn-invisible btn-cancel-edit" title="cancel">
                            <i class="btn fas fa-times"></i>
                        </a>
                    </div>
                </form>
            </td>
        </tr>
    </table>
</div>


